webpackJsonp([8],{259:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(38),s=a(83),r=a(577),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){return{userAuth:e.userAuth,userInfo:e.userInfo}},l=function(e){return{onGetUserInfo:function(t){e((0,s.getUserInfo)(t))},onRequireAuth:function(){return e((0,s.requireAuth)())}}};t.default=(0,n.connect)(i,l)(o.default)},263:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: absolute;\n  background-image: url(",");\n  background-position-x: 50%;\n  background-position-y: 60%;\n  background-size: 140% 110%;\n  width: 100%;\n  text-align: center;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 0 1rem 0;\n\n  &.error {\n    background-image: url(",");\n    background-position-x: 50%;\n    background-position-y: 60%;\n    background-size: 140% 110%;\n  }\n\n  p {\n    color: white;\n    font-weight: normal;\n    font-size: 1.125rem;\n    text-shadow: 0 0 2rem rgba(0, 0, 0, 0.5);\n    margin: 0;\n\n    @media screen and (min-width: ",") {\n      font-size: 1.25rem;\n      margin: 0;\n    }\n  }\n\n  svg {\n    width: 1.75rem;\n    height: 1.75rem;\n    padding-right: 0.375rem;\n    cursor: pointer;\n\n    > * {\n      fill: white;\n    }\n  }\n"],["\n  position: absolute;\n  background-image: url(",");\n  background-position-x: 50%;\n  background-position-y: 60%;\n  background-size: 140% 110%;\n  width: 100%;\n  text-align: center;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 0 1rem 0;\n\n  &.error {\n    background-image: url(",");\n    background-position-x: 50%;\n    background-position-y: 60%;\n    background-size: 140% 110%;\n  }\n\n  p {\n    color: white;\n    font-weight: normal;\n    font-size: 1.125rem;\n    text-shadow: 0 0 2rem rgba(0, 0, 0, 0.5);\n    margin: 0;\n\n    @media screen and (min-width: ",") {\n      font-size: 1.25rem;\n      margin: 0;\n    }\n  }\n\n  svg {\n    width: 1.75rem;\n    height: 1.75rem;\n    padding-right: 0.375rem;\n    cursor: pointer;\n\n    > * {\n      fill: white;\n    }\n  }\n"]),r=a(0),o=n(r),i=a(7),l=n(i),u=a(8),c=n(u),d=a(264),m=n(d),f=a(265),p=n(f),h=a(23),g=(0,l.default)(function(e){var t=e.error,a=e.message,n=e.onClearError,s=e.onClearMessage,r=e.className;return""!==t.message||""!==a.message?o.default.createElement("section",{id:"message",className:""+r+(""!==t.message?" error":null)},o.default.createElement(h.CloseIcon,{onClick:""!==t.message?n:s}),o.default.createElement("p",null,""!==t.message?t.message:a.message)):null})(s,p.default,m.default,c.default.medium);t.default=g},264:function(e,t,a){e.exports=a.p+"static/media/red-brush.f8ffb539.png"},265:function(e,t,a){e.exports=a.p+"static/media/blue-brush.02499a4f.png"},266:function(e,t,a){"use strict";t.__esModule=!0;var n=a(267),s=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=s.default},267:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=a(0),l=n(i),u=a(1),c=n(u),d=a(2),m=n(d),f=a(3),p=n(f),h=a(84),g=function(e){function t(){return s(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){(0,p.default)(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=(0,h.createLocation)(e.to),a=(0,h.createLocation)(this.props.to);if((0,h.locationsAreEqual)(t,a))return void(0,m.default)(!1,"You tried to redirect to the same route you're currently on: \""+a.pathname+a.search+'"');this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,a=t.push,n=t.to;a?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(l.default.Component);g.propTypes={push:c.default.bool,from:c.default.string,to:c.default.oneOfType([c.default.string,c.default.object]).isRequired},g.defaultProps={push:!1},g.contextTypes={router:c.default.shape({history:c.default.shape({push:c.default.func.isRequired,replace:c.default.func.isRequired}).isRequired,staticContext:c.default.object}).isRequired},t.default=g},577:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),c=n(u),d=a(266),m=n(d),f=a(82),p=n(f),h=a(85),g=a(263),y=n(g);a(578);var v=function(e,t){return e===t},b=function(e){var t=e.match("[0-9]+");return!!t&&t[0]===e},w=function(e,t){return String(e).length===t},E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={firstName:a.props.userInfo.firstName,lastName:a.props.userInfo.lastName,email:a.props.userInfo.email,password:"",confirmPassword:"",address:a.props.userInfo.address,city:a.props.userInfo.city,state:a.props.userInfo.state,userType:a.props.userInfo.userType,zip:String(a.props.userInfo.zip),valid:!0,profileSaved:!0,userPostResults:{},message:{type:"",message:""},error:{type:"",message:""}},a.onChange=a.onChange.bind(a),a.onSubmit=a.onSubmit.bind(a),a.componentWillMount=a.componentWillMount.bind(a),a}return i(t,e),l(t,[{key:"componentWillMount",value:function(){document.title="non-profit"===this.props.userInfo.userType?"Edit "+this.props.userInfo.nonProfitName+"'s Profile - Design Bright":"Edit "+this.props.userInfo.firstName+" "+this.props.userInfo.lastName+"'s Profile - Design Bright"}},{key:"onChange",value:function(e){var t,a=this,n=e.target,r="checkbox"===n.type?n.checked:n.value,o=n.name;this.setState((t={},s(t,o,r),s(t,"profileSaved",!1),t),function(){a.validate()?a.setState({valid:!0}):a.setState({valid:!1})})}},{key:"validate",value:function(){return!!(this.state.firstName.length>0&&this.state.lastName.length>0&&this.state.email.length>0&&(0,h.validEmail)(this.state.email)&&(0===this.state.password.length||v(this.state.password,this.state.confirmPassword)&&this.state.password.length>0)&&("donor"===this.state.userType||this.state.address.length>0&&this.state.city.length>0&&2===this.state.state.length&&b(this.state.zip)&&w(this.state.zip,5)))}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.valid){var a={editData:function(e){var t=e.email,a=e.password,n=e.firstName,s=e.lastName,r=e.address,o=e.city,i=e.state,l=e.zip;return{userInfo:{email:t,password:a,user_metadata:{firstName:n,lastName:s,passwordDate:new Date}},nonProfitInfo:{address:r,city:o,state:i,zip:l}}}(this.state),accessToken:this.props.userAuth.accessToken};p.default.patch("https://"+window.location.hostname+":3000/api/users/edit",a).then(function(e){t.setState({password:"",confirmPassword:"",message:{type:"edit user",message:e.data.message},error:{type:"",message:""}}),t.props.onGetUserInfo(),window.scroll(0,0)}).catch(function(e){409===e.response.data.statusCode&&t.setState({email:t.props.userInfo.email}),t.setState({password:"",confirmPassword:"",error:{type:"edit user",message:e.response.data.message},message:{type:"",message:""}}),window.scroll(0,0)})}else this.setState({error:{type:"empty field",message:"You have an invalid or empty field. Please make sure everything is filled out."},message:{type:"",message:""}}),window.scroll(0,0)}},{key:"render",value:function(){var e=this;return this.props.onRequireAuth()&&Object.keys(this.props.userInfo).length>0?c.default.createElement("main",{id:"editProfile"},c.default.createElement(y.default,{error:this.state.error,onClearMessage:function(){return e.setState({message:{type:"",message:""}})},message:this.state.message,onClearError:function(){return e.setState({error:{type:"",message:""}})}}),c.default.createElement("section",{className:"row align-center"},c.default.createElement("form",{className:"small-12 columns",onSubmit:this.onSubmit},c.default.createElement("div",{className:"row"},c.default.createElement("h1",{className:"small-12 columns"},c.default.createElement("span",{className:"underlined"},"Edit Profile"))),c.default.createElement("div",{className:"row align-center"},c.default.createElement("div",{className:"small-12 large-4 columns"},c.default.createElement("fieldset",null,c.default.createElement("label",{htmlFor:"first-name"},"First Name: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("input",{value:this.state.firstName,onChange:this.onChange,type:"text",name:"firstName",id:"first-name",required:!0}),c.default.createElement("label",{htmlFor:"last-name"},"Last Name: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("input",{value:this.state.lastName,onChange:this.onChange,type:"text",name:"lastName",id:"last-name",required:!0}),c.default.createElement("label",{htmlFor:"email",className:"row"+((0,h.validEmail)(this.state.email)||0===this.state.email.length?"":" invalid")},c.default.createElement("div",{className:"small-12 columns"},"Email: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("div",{className:" small-12 columns"},c.default.createElement("span",{className:"error"},"Please enter a valid email address."))),c.default.createElement("input",{value:this.state.email,onChange:this.onChange,type:"email",name:"email",required:!0,id:"email"}))),c.default.createElement("div",{className:"small-12 large-4 columns"},c.default.createElement("hr",{className:"hide-for-large"}),c.default.createElement("div",{className:"small-12 columns"}),c.default.createElement("label",{htmlFor:"password",className:"row align-bottom align-justify"},c.default.createElement("div",{className:"small-4 columns"},"Password:"),c.default.createElement("div",{className:"columns shrink"},c.default.createElement("span",{className:"detail"},"Leave blank to keep your current password."))),c.default.createElement("input",{value:this.state.password,onChange:this.onChange,type:"password",name:"password",id:"password"}),c.default.createElement("label",{htmlFor:"confirm-password",className:"row"+(v(this.state.password,this.state.confirmPassword)?"":" invalid")},c.default.createElement("div",{className:"small-12 columns"},"Confirm Password:"),c.default.createElement("div",{className:" small-12 columns"},c.default.createElement("span",{className:"error"},"Your passwords don't match."))),c.default.createElement("input",{value:this.state.confirmPassword,onChange:this.onChange,type:"password",name:"confirmPassword",id:"confirm-password"})),c.default.createElement("div",{className:"small-12 large-4 columns"},c.default.createElement("div",{className:"non-profit"===this.state.userType?"":"hide"},c.default.createElement("hr",{className:"hide-for-large"}),c.default.createElement("label",{htmlFor:"address"},"Address: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("input",{value:this.state.address,onChange:this.onChange,type:"text",name:"address",id:"address",required:"non-profit"===this.state.userType}),c.default.createElement("label",{htmlFor:"city"},"City: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("input",{value:this.state.city,onChange:this.onChange,type:"text",name:"city",id:"city",required:"non-profit"===this.state.userType}),c.default.createElement("label",{htmlFor:"state"},"State: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("select",{value:this.state.state,onChange:this.onChange,name:"state",id:"state",required:"non-profit"===this.state.userType},c.default.createElement("option",{value:"",disabled:!0},"Choose Your State"),h.states.map(function(e,t){return c.default.createElement("option",{value:e.abbreviation,key:t},e.name)})),c.default.createElement("label",{htmlFor:"zip",className:"row "+(b(this.state.zip)&&w(this.state.zip,5)?"":"invalid")+(w(this.state.zip,0)?" empty":"")},c.default.createElement("div",{className:"small-12 columns"},"Zip: ",c.default.createElement("span",{className:"required"},"*")),c.default.createElement("div",{className:"small-12 columns"},c.default.createElement("span",{className:"error"},"You entered an invalid Zip Code."))),c.default.createElement("input",{value:this.state.zip,onChange:this.onChange,type:"text",name:"zip",id:"zip",required:"non-profit"===this.state.userType})))),c.default.createElement("div",{className:"row align-center"},c.default.createElement("button",{className:"primary small-11 medium-10 large-8 columns"+(this.state.valid?"":" disabled")+(this.state.profileSaved?" disabled":""),disabled:!this.state.valid||this.state.profileSaved,type:"submit"},this.state.profileSaved?"No Changes Made":"Save Changes"),c.default.createElement("span",{className:"error small-12"},"Please make sure you've entered all your information."))))):c.default.createElement(m.default,{to:{pathname:"/login",search:"?origin=secure"}})}}]),t}(c.default.Component);t.default=E},578:function(e,t,a){var n=a(579);"string"===typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0};s.transform=void 0;a(22)(n,s);n.locals&&(e.exports=n.locals)},579:function(e,t,a){t=e.exports=a(21)(void 0),t.push([e.i,"",""])}});
//# sourceMappingURL=8.185bce37.chunk.js.map