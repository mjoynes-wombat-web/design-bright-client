webpackJsonp([6],{260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),o=n(83),i=n(578),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e){return{userAuth:e.userAuth,userInfo:e.userInfo}},l=function(e){return{onGetUserInfo:function(t){e((0,o.getUserInfo)(t))},onRequireAuth:function(){return e((0,o.requireAuth)())}}};t.default=(0,r.connect)(s,l)(a.default)},262:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),f=r(u),c=n(1),p=r(c),d=n(3),m=r(d),h=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},g=function(e){function t(){var n,r,o;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!h(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?t.replace(i):t.push(i)}},o=n,a(r,o)}return s(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=o(e,["replace","to","innerRef"]);(0,m.default)(this.context.router,"You should not use <Link> outside a <Router>");var i=this.context.router.history.createHref("string"===typeof t?{pathname:t}:t);return f.default.createElement("a",l({},r,{onClick:this.handleClick,href:i,ref:n}))},t}(f.default.Component);g.propTypes={onClick:p.default.func,target:p.default.string,replace:p.default.bool,to:p.default.oneOfType([p.default.string,p.default.object]).isRequired,innerRef:p.default.oneOfType([p.default.string,p.default.func])},g.defaultProps={replace:!1},g.contextTypes={router:p.default.shape({history:p.default.shape({push:p.default.func.isRequired,replace:p.default.func.isRequired,createHref:p.default.func.isRequired}).isRequired}).isRequired},t.default=g},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&#message {\n  position: absolute;\n  background-image: url(",");\n  background-position-x: 50%;\n  background-position-y: 60%;\n  background-size: 140% 110%;\n  width: 100%;\n  text-align: center;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 0 1rem 0;\n\n  &.error {\n    background-image: url(",");\n    background-position-x: 50%;\n    background-position-y: 60%;\n    background-size: 140% 110%;\n  }\n\n  > p {\n    color: white;\n    font-weight: normal;\n    font-size: 1.125rem;\n    text-shadow: 0 0 2rem rgba(0, 0, 0, 0.5);\n    margin: 0;\n\n    @media screen and (min-width: ",") {\n      font-size: 1.25rem;\n      margin: 0;\n    }\n  }\n\n  > svg {\n    width: 1.75rem;\n    height: 1.75rem;\n    padding-right: 0.375rem;\n    cursor: pointer;\n\n    > * {\n      fill: white;\n    }\n  }\n}\n"],["\n&#message {\n  position: absolute;\n  background-image: url(",");\n  background-position-x: 50%;\n  background-position-y: 60%;\n  background-size: 140% 110%;\n  width: 100%;\n  text-align: center;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.75rem 0 1rem 0;\n\n  &.error {\n    background-image: url(",");\n    background-position-x: 50%;\n    background-position-y: 60%;\n    background-size: 140% 110%;\n  }\n\n  > p {\n    color: white;\n    font-weight: normal;\n    font-size: 1.125rem;\n    text-shadow: 0 0 2rem rgba(0, 0, 0, 0.5);\n    margin: 0;\n\n    @media screen and (min-width: ",") {\n      font-size: 1.25rem;\n      margin: 0;\n    }\n  }\n\n  > svg {\n    width: 1.75rem;\n    height: 1.75rem;\n    padding-right: 0.375rem;\n    cursor: pointer;\n\n    > * {\n      fill: white;\n    }\n  }\n}\n"]),i=n(0),a=r(i),s=n(7),l=r(s),u=n(8),f=r(u),c=n(264),p=r(c),d=n(265),m=r(d),h=n(23),g=(0,l.default)(function(e){var t=e.error,n=e.message,r=e.onClearError,o=e.onClearMessage,i=e.className;return""!==t.message||""!==n.message?(console.log(n.message),a.default.createElement("section",{id:"message",className:i+(""!==t.message?" error":"")},a.default.createElement(h.CloseIcon,{onClick:""!==t.message?r:o}),a.default.createElement("p",null,""!==t.message?t.message:n.message))):null})(o,m.default,p.default,f.default.medium);t.default=g},264:function(e,t,n){e.exports=n.p+"static/media/red-brush.f8ffb539.png"},265:function(e,t,n){e.exports=n.p+"static/media/blue-brush.02499a4f.png"},266:function(e,t,n){"use strict";t.__esModule=!0;var r=n(267),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},267:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(0),l=r(s),u=n(1),f=r(u),c=n(2),p=r(c),d=n(3),m=r(d),h=n(84),g=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){(0,m.default)(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=(0,h.createLocation)(e.to),n=(0,h.createLocation)(this.props.to);if((0,h.locationsAreEqual)(t,n))return void(0,p.default)(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(l.default.Component);g.propTypes={push:f.default.bool,from:f.default.string,to:f.default.oneOfType([f.default.string,f.default.object]).isRequired},g.defaultProps={push:!1},g.contextTypes={router:f.default.shape({history:f.default.shape({push:f.default.func.isRequired,replace:f.default.func.isRequired}).isRequired,staticContext:f.default.object}).isRequired},t.default=g},279:function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function i(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"===typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(280),l=n(24),u=n(281);t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:u(i),n(u(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=l({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var n=r(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return i(r,t)+"="+i(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:this.parse(this.extract(e),t)}}},280:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},281:function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],r(n),r(o))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(a),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(a);return e}}function i(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=s.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var l=i[a];e=e.replace(new RegExp(l,"g"),t[l])}return e}var a=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return i(e)}}},578:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),f=n(266),c=r(f),p=n(262),d=r(p),m=n(279),h=r(m),g=n(82),y=r(g),b=n(263),v=r(b);n(579);var w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={profilePhoto:"",newProfilePhoto:{},loadingProfilePhoto:!1,fetched:!1,message:{type:"",message:""},error:{type:"",message:""}},n.componentWillMount=n.componentWillMount.bind(n),n.changeProfilePhoto=n.changeProfilePhoto.bind(n),n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this;document.title="non-profit"===this.props.userInfo.userType?this.props.userInfo.nonProfitName+"'s Profile - Design Bright":this.props.userInfo.firstName+" "+this.props.userInfo.lastName+"'s Profile - Design Bright",this.props.onGetUserInfo(function(){return e.setState({fetched:!0})})}},{key:"componentDidMount",value:function(){var e=h.default.parse(this.props.location.search);if("origin"in e)switch(e.origin){case"register":return this.setState({message:{type:"origin register",message:"You can't create a new user while logged in."},error:{type:"",message:""}});case"login":return this.setState({message:{type:"origin login",message:"You are already logged in."},error:{type:"",message:""}});case"nonprofit-page":return this.setState({message:{type:"origin nonprofit-page",message:"You aren't authorized to access that page."},error:{type:"",message:""}});default:return null}return null}},{key:"changeProfilePhoto",value:function(e){var t=this,n=e.target,r=n.files[0];this.setState({newProfilePhoto:r},function(){var e=new FormData;e.append("file",t.state.newProfilePhoto),e.append("accessToken",t.props.userAuth.accessToken),t.setState({loadingProfilePhoto:!0}),y.default.patch("https://"+window.location.hostname+":3000/api/users/upload/photo/",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.setState({message:{type:"profile image",message:e.data.message},error:{type:"",message:""},loadingProfilePhoto:!1}),t.props.onGetUserInfo()}).catch(function(e){return t.setState({error:{type:"profile image",message:e.response.data.message},message:{type:"",message:""},loadingProfilePhoto:!1})})})}},{key:"render",value:function(){var e=this;return this.props.onRequireAuth()?Object.keys(this.props.userInfo).length>0?u.default.createElement("main",{id:"profile",className:"small-12 columns"},u.default.createElement(v.default,{error:this.state.error,onClearMessage:function(){return e.setState({message:{type:"",message:""}})},message:this.state.message,onClearError:function(){return e.setState({error:{type:"",message:""}})}}),u.default.createElement("section",{className:"row align-center"},u.default.createElement("div",{className:"profile-img-wrapper small-3 columns"},u.default.createElement("img",{src:this.state.loadingProfilePhoto?"/assets/img/spinner.svg":this.props.userInfo.picture,alt:("non-profit"===this.props.userInfo.userType?this.props.userInfo.nonProfitName:this.props.userInfo.firstName+" "+this.props.userInfo.lastName)+"'s Profile",className:"profile-img"}),u.default.createElement("button",{type:"button",className:"edit",onClick:function(e){e.preventDefault(e),document.getElementById("newProfilePhoto").click()}},u.default.createElement("span",null,"\uf093")," Upload Profile Photo"),u.default.createElement("input",{id:"newProfilePhoto",type:"file",onChange:this.changeProfilePhoto})),u.default.createElement("div",{className:"small-12 medium-9 columns"},u.default.createElement("div",{className:"row align-middle profile-header"},u.default.createElement("div",{className:"columns expand"},u.default.createElement("h1",null,u.default.createElement("span",{className:"underlined"},"non-profit"===this.props.userInfo.userType?this.props.userInfo.nonProfitName:this.props.userInfo.firstName+" "+this.props.userInfo.lastName,"'s Profile"))),u.default.createElement("div",{className:"columns large-3 small-12"},u.default.createElement(d.default,{to:"/user/profile/edit",className:"edit"},u.default.createElement("span",{className:"text"},"Edit Profile")," ",u.default.createElement("span",{className:"icon"},"\uf044")))),u.default.createElement("p",{className:"title"},"Name:"),u.default.createElement("p",null,this.props.userInfo.firstName," ",this.props.userInfo.lastName),u.default.createElement("p",{className:"title"},"Email:"),u.default.createElement("p",null,this.props.userInfo.email),"non-profit"===this.props.userInfo.userType?u.default.createElement("div",{className:"non-profit-info"},u.default.createElement("p",{className:"title"},"Address:"),u.default.createElement("p",null,this.props.userInfo.address,u.default.createElement("br",null),this.props.userInfo.city,",",this.props.userInfo.state,this.props.userInfo.zip),u.default.createElement("p",{className:"title"},"Employer Identification Number (EIN):"),u.default.createElement("p",null,this.props.userInfo.ein)):"",u.default.createElement("p",null,"Password Changed on "+(this.props.userInfo.passwordDate.getMonth()+1)+"/"+this.props.userInfo.passwordDate.getDate()+"/"+this.props.userInfo.passwordDate.getFullYear())))):u.default.createElement("h1",null,"Loading"):u.default.createElement(c.default,{to:{pathname:"/login",search:"?origin=secure"}})}}]),t}(u.default.Component);t.default=w},579:function(e,t,n){var r=n(580);"string"===typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(22)(r,o);r.locals&&(e.exports=r.locals)},580:function(e,t,n){t=e.exports=n(21)(void 0),t.push([e.i,'main#profile .profile-img-wrapper {\n  margin: 1rem 0;\n  text-align: center;\n  position: relative;\n  min-width: calc(144px + 0.75rem);\n  padding: 0;\n  margin-bottom: 0; }\n  @media screen and (min-width: 40em) {\n    main#profile .profile-img-wrapper {\n      font-size: 1.75rem;\n      margin: 1.125rem 0;\n      padding: 0 0.9375rem; } }\n  main#profile .profile-img-wrapper img.profile-img {\n    max-width: 210px;\n    min-width: 144px;\n    width: 90%;\n    margin: 0 0.375rem;\n    height: auto;\n    border-radius: 0.25rem; }\n  main#profile .profile-img-wrapper button {\n    display: block;\n    border-bottom: none;\n    background-image: url("/assets/img/yellow-brush5.png");\n    background-size: 100% 100%;\n    padding: 0.375rem 0.375rem;\n    font-size: 0.75rem;\n    font-weight: normal;\n    color: #0379ff;\n    text-shadow: 0 0 0.25rem #fff;\n    min-width: calc(144px + 0.75rem);\n    position: absolute;\n    bottom: -0.375rem;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    line-height: 1.5rem; }\n    @media screen and (min-width: 40em) {\n      main#profile .profile-img-wrapper button {\n        position: relative;\n        bottom: 1.5rem; } }\n    @media screen and (min-width: 64em) {\n      main#profile .profile-img-wrapper button {\n        font-size: 1.125rem; } }\n    main#profile .profile-img-wrapper button:hover {\n      border: none;\n      color: #3694ff;\n      background-image: url('+n(88)+");\n      background-size: 100% 100%; }\n    main#profile .profile-img-wrapper button span {\n      font-family: 'font-awesome-light';\n      font-size: 0.875rem;\n      position: relative;\n      vertical-align: middle;\n      top: -0.125rem; }\n      @media screen and (min-width: 64em) {\n        main#profile .profile-img-wrapper button span {\n          font-size: 1.125rem; } }\n  main#profile .profile-img-wrapper #newProfilePhoto {\n    display: none; }\n\nmain#profile div.profile-header a.edit {\n  display: block;\n  border: none;\n  margin-bottom: 1.125rem; }\n  @media screen and (min-width: 40em) {\n    main#profile div.profile-header a.edit {\n      margin-top: 1.125rem; } }\n  main#profile div.profile-header a.edit span {\n    vertical-align: middle; }\n    main#profile div.profile-header a.edit span.text {\n      border-bottom: 0.0625rem solid #8CC0FF;\n      font-size: 1rem; }\n      @media screen and (min-width: 40em) {\n        main#profile div.profile-header a.edit span.text {\n          font-size: 1.25rem; } }\n    main#profile div.profile-header a.edit span.icon {\n      font-family: 'font-awesome-light';\n      font-size: 1.25rem; }\n      @media screen and (min-width: 40em) {\n        main#profile div.profile-header a.edit span.icon {\n          font-size: 1.5rem;\n          size: shrink; } }\n\nmain#profile p {\n  font-size: 1.25rem;\n  margin: 0.125rem 0 1rem 0;\n  line-height: initial; }\n  @media screen and (min-width: 40em) {\n    main#profile p {\n      font-size: 1.375rem; } }\n  main#profile p.title {\n    color: #808080;\n    font-size: 1.125rem;\n    font-family: 'Lato', sans-serif;\n    line-height: initial;\n    font-weight: 300;\n    margin-bottom: 0.125rem; }\n    @media screen and (min-width: 40em) {\n      main#profile p.title {\n        font-size: 1.25rem; } }\n",""]),t.locals={lightGraphite:"#808080",mauiOrange:"#ffab20",graphite:"#404040",darkGraphite:"#101010",brightGraphite:"#999999",errorRed:"#ff5800",darkErrorRed:"#cc4600",blueHydrangea:"#3694ff",darkBlueHydrangea:"#0063db",lightHydrangea:"#57a8ff",small:"26em",medium:"40em",large:"64em",xlarge:"90em",xxlarge:"120em"}}});
//# sourceMappingURL=6.f50cda62.chunk.js.map